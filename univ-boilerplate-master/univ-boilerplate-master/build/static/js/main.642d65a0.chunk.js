(this.webpackJsonpstarting_code=this.webpackJsonpstarting_code||[]).push([[0],{160:function(e,t,n){},161:function(e,t,n){"use strict";n.r(t);var a=n(3),c=n(0),i=n.n(c),r=n(11),s=n.n(r),o=n(16),l=n(61),d=n(195),u=n(107),j=Object(d.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignContent:"center",textAlign:"center","& .header":{marginTop:e.spacing(8)}}}})),b=function(){var e=j();return Object(a.jsx)("div",{className:e.root,children:Object(a.jsxs)("div",{className:"header",children:[Object(a.jsx)(u.a,{variant:"h2",component:"p",children:"The Andrew Linkerator"}),Object(a.jsx)(u.a,{variant:"h5",component:"p",children:"POWERFUL option for indexing URLs"})]})})},p=n(19),h=n(199),m=n(200),f=n(224),O=n(229),g=n(221),x="/api",y="FETCH_LINKS_REQUEST",v="FETCH_LINKS_SUCCESS",k="FETCH_LINKS_FAILURE",C="FETCH_TAGS_REQUEST",S="FETCH_TAGS_SUCCESS",E="FETCH_TAGS_FAILURE",L="EDIT_LINK_REQUEST",T="ADD_LINK_SUCCESS",N="UPDATE_LINK_SUCCESS",w="EDIT_LINK_FAILURE",_="DELETE_LINK_REQUEST",A="DELETE_LINK_SUCCESS",I="DELETE_LINK_FAILURE",F="COUNT_SUCCESS",U="COUNT_FAILURE",D="SET_MESSAGE",P="CLEAR_MESSAGE",R=n(42),K=n.n(R),H=function(e){var t=e?e.url:"",n=e?e.tag:"";return new Promise((function(e,a){K.a.get("".concat(x,"/link"),{params:{url:t||"",tag:n||""}}).then((function(t){var n=t.data.data;e(n)})).catch((function(e){var t=e.response.data;a(t.error)}))}))},B=function(){return new Promise((function(e,t){K.a.get("".concat(x,"/tags")).then((function(t){var n=t.data.data;e(n)})).catch((function(e){var n=e.response.data;t(n.error)}))}))},G=function(e){return new Promise((function(t,n){K.a.post("".concat(x,"/link"),e).then((function(e){var n=e.data.data;t(n)})).catch((function(e){var t=e.response.data;n(t.error)}))}))},M=function(e,t){return new Promise((function(n,a){K.a.patch("".concat(x,"/link/").concat(t),e).then((function(e){var t=e.data.data;n(t)})).catch((function(e){var t=e.response.data;a(t.error)}))}))},q=function(e){return new Promise((function(t,n){K.a.delete("".concat(x,"/link"),{data:{id:e}}).then((function(n){t(e)})).catch((function(e){var t=e.response.data;n(t.error)}))}))},Q=function(e){return new Promise((function(t,n){K.a.post("".concat(x,"/visit"),{id:e}).then((function(e){var n=e.data.data;t(n)})).catch((function(e){var t=e.response.data;n(t.error)}))}))},W=function(e){return function(t){return t({type:y}),H(e).then((function(e){t({type:v,payload:e})})).catch((function(e){t({type:k,payload:e.message}),t({type:D,payload:{message:e.message,success:!1}})}))}},Y=function(){return function(e){return e({type:C}),B().then((function(t){e({type:S,payload:t})})).catch((function(t){e({type:E}),e({type:D,payload:{message:t.message,success:!1}})}))}},J=function(e){return function(t){return t({type:L}),G(e).then((function(e){t({type:T,payload:e}),t({type:D,payload:{message:"Successfully Link Added",success:!0}})})).catch((function(e){t({type:w}),t({type:D,payload:{message:e.message,success:!1}})}))}},z=function(e,t){return function(n){return n({type:L}),M(e,t).then((function(e){n({type:N,payload:e}),n({type:D,payload:{message:"Successfully Link Updated",success:!0}})})).catch((function(e){n({type:w}),n({type:D,payload:{message:e.message,success:!1}})}))}},V=function(e){return function(t){return t({type:_}),q(e).then((function(e){t({type:A,payload:e}),t({type:D,payload:{message:"".concat(e.length," data successfully deleted"),success:!0}})})).catch((function(e){t({type:I}),t({type:D,payload:{message:e.message,success:!1}})}))}},X=function(e){return function(t){return Q(e).then((function(n){t({type:F,payload:{count:n,id:e}})})).catch((function(e){t({type:U})}))}},Z=Object(d.a)((function(e){return{root:{display:"flex",marginTop:e.spacing(7),"& .sub-header":{textAlign:"center",padding:e.spacing(2)}},search:{paddingLeft:".8rem",paddingRight:".8rem",paddingTop:".65rem",paddingBottom:".65rem",display:"flex","& .input-wrapper":{borderRadius:"0.5rem",width:"100%",color:"rgba(0, 0, 0, 0.97)",transition:"box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",backgroundColor:"#FFFFFF",position:"relative"},"& .type":{width:"100px"}}}})),$=function(){var e=Z(),t=Object(c.useState)(""),n=Object(p.a)(t,2),i=n[0],r=n[1],s=Object(c.useState)(0),l=Object(p.a)(s,2),d=l[0],j=l[1],b=Object(o.b)(),x=Object(c.useCallback)((function(e){j(e.target.value)}),[d]),y=Object(c.useCallback)((function(e){r(e.target.value)}),[i]),v=Object(c.useCallback)((function(e){e.preventDefault(),b(W(d?{tag:i}:{url:i}))}),[d,i]);return Object(a.jsx)("div",{className:e.root,children:Object(a.jsxs)(h.a,{container:!0,direction:"row",justify:"center",alignItems:"center",children:[Object(a.jsx)(h.a,{item:!0,sm:12,md:12,children:Object(a.jsx)(u.a,{variant:"h6",component:"p",className:"sub-header",children:"Enter a Search Term"})}),Object(a.jsx)(h.a,{item:!0,md:3,sm:2}),Object(a.jsx)(h.a,{item:!0,md:6,sm:8,children:Object(a.jsx)("form",{onSubmit:v,className:e.search,children:Object(a.jsx)(m.a,{className:"input-wrapper",elevation:1,children:Object(a.jsx)(f.a,{autoFocus:!1,name:"search",className:"flex-1 w-100",InputProps:{disableUnderline:!0,classes:{root:"flex flex-grow flex-no-shrink ml-12 mr-28 my-8 text-12",input:""},placeholder:"Search the links"},InputLabelProps:{shrink:!1,className:e.bootstrapFormLabel},value:i,onChange:y})})})}),Object(a.jsx)(h.a,{item:!0,md:3,sm:2,className:e.search,children:Object(a.jsx)(m.a,{className:"input-wrapper type",elevation:1,children:Object(a.jsxs)(g.a,{className:"flex-1 w-100",disableUnderline:!0,inputProps:{classes:{root:"flex flex-grow flex-no-shrink ml-12 mr-28 my-8 text-9 pt-15",input:""}},value:d,onChange:x,children:[Object(a.jsx)(O.a,{value:0,children:"Link"}),Object(a.jsx)(O.a,{value:1,children:"Tag"})]})})})]})})},ee=n(210),te=n(225),ne=n(209),ae=n(207),ce=n(208),ie=n(206),re=n(203),se=n(105),oe=Object(d.a)((function(e){return{root:{"& .content-wrapper":{minHeight:"400px"}},form:{display:"flex",flexDirection:"column",margin:"auto",width:"70%"},formControl:{marginTop:e.spacing(2),minWidth:200},formControlLabel:{marginTop:e.spacing(1)}}})),le=function(e){var t=e.open,n=e.setOpen,i=e.isAdd,r=i.isAdd,s=i.id;console.log(s);var l=oe(),d=Object(c.useState)(""),u=Object(p.a)(d,2),j=u[0],b=u[1],h=Object(c.useState)(""),m=Object(p.a)(h,2),O=m[0],g=m[1],x=Object(c.useState)([]),y=Object(p.a)(x,2),v=y[0],k=y[1],C=Object(o.c)((function(e){return e.tags})).tags,S=Object(o.b)(),E=Object(c.useCallback)((function(e){b(e.target.value)}),[j]),L=Object(c.useMemo)((function(){return C.map((function(e){return{value:e.name,label:e.name}}))}),[C]),T=Object(c.useCallback)((function(e){g(e.target.value)}),[O]),N=function(){n(!1)},w=Object(c.useCallback)((function(e){e.preventDefault();var t=v.map((function(e){return{name:e.value}}));r&&S(J({url:j,comment:O,tags:t})),S(z({url:j,comment:O,tags:t},s)),N()}),[j,O,v]),_=r?"ADD LINKS":"UPDATE LINKS",A=r?"You can submit your new Bookmark.":"You can update your Bookmark.",I=Object(c.useCallback)((function(e){k(e)}),[v]);return Object(a.jsx)("div",{children:Object(a.jsxs)(te.a,{fullWidth:!0,open:t,onClose:N,className:l.root,children:[Object(a.jsx)(ie.a,{id:"max-width-dialog-title",children:_}),Object(a.jsxs)(ae.a,{className:"content-wrapper",children:[Object(a.jsx)(ce.a,{className:"subheader",children:A}),Object(a.jsxs)("form",{className:l.form,noValidate:!0,children:[Object(a.jsx)(re.a,{className:l.formControl,children:Object(a.jsx)(f.a,{label:"Link Url",name:"link_url",variant:"outlined",value:j,onChange:E,required:!0})}),Object(a.jsx)(re.a,{className:l.formControl,children:Object(a.jsx)(f.a,{label:"comment",name:"comment",variant:"outlined",multiline:!0,value:O,onChange:T,required:!0})}),Object(a.jsx)(re.a,{className:l.formControl,children:Object(a.jsx)(se.a,{isMulti:!0,onChange:I,options:L})})]})]}),Object(a.jsx)(ne.a,{children:Object(a.jsx)(ee.a,{color:"primary",variant:"contained",onClick:w,children:"Submit"})})]})})},de=Object(d.a)((function(e){return{root:{display:"flex",marginTop:e.spacing(2)}}})),ue=function(){var e=de(),t=i.a.useState(!1),n=Object(p.a)(t,2),c=n[0],r=n[1],s=i.a.useState({isAdd:!0}),o=Object(p.a)(s,2),l=o[0],d=o[1];return Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsxs)(h.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"center",children:[Object(a.jsx)(ee.a,{variant:"contained",color:"secondary",onClick:function(){d({isAdd:!0}),r(!0)},children:"Add Link"}),Object(a.jsx)(h.a,{item:!0,sm:12,md:12,children:Object(a.jsx)(Je,{setOpen:r,setIsAdd:d})})]}),Object(a.jsx)(le,{open:c,setOpen:r,isAdd:l})]})},je=n(211),be=function(e){var t=e.children,n=Object(o.b)();return Object(c.useEffect)((function(){n(W()),n(Y())}),[]),Object(a.jsx)(je.a,{fixed:!0,children:t})},pe=n(14),he=n(212),me=i.a.forwardRef((function(e,t){return Object(a.jsx)(he.a,Object(pe.a)({direction:"up",ref:t},e))}));function fe(e){var t=e.open,n=e.setOpen,c=e.deleteFn,i=function(){n(!1)};return Object(a.jsx)("div",{children:Object(a.jsxs)(te.a,{open:t,TransitionComponent:me,keepMounted:!0,onClose:i,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(a.jsx)(ie.a,{id:"alert-dialog-slide-title",children:"Delete"}),Object(a.jsx)(ae.a,{children:Object(a.jsx)(ce.a,{id:"alert-dialog-slide-description",children:"Do you really want to delete the links?"})}),Object(a.jsxs)(ne.a,{children:[Object(a.jsx)(ee.a,{onClick:i,color:"primary",variant:"contained",children:"No"}),Object(a.jsx)(ee.a,{onClick:function(){c(),n(!1)},color:"primary",variant:"contained",children:"Yes"})]})]})})}var Oe=function(e){var t=e.children,n=Object(l.useToasts)().addToast,i=Object(o.b)(),r=Object(o.c)((function(e){return e.message})),s=r.message,d=r.success,u=r.info;return Object(c.useEffect)((function(){if(s){n(s,{appearance:u?"warning":d?"success":"error",autoDismiss:!0});var e=setTimeout((function(){return i({type:P})}),5e3);return function(){clearTimeout(e)}}}),[s]),Object(a.jsx)(a.Fragment,{children:t})},ge=n(219),xe=n(220),ye=n(215),ve=n(218),ke=n(227),Ce=n(102),Se=n.n(Ce),Ee=n(216),Le=n(213),Te=n(214),Ne=n(222),we=n(230),_e=[{id:"url",numeric:!1,disablePadding:!0,label:"Link"},{id:"comment",numeric:!1,disablePadding:!1,label:"Comment"},{id:"count",numeric:!0,disablePadding:!1,label:"Count"},{id:"tags",numeric:!1,disablePadding:!1,label:"Tags"},{id:"action",numeric:!1,disablePadding:!1,label:"Edit"}],Ae=function(e){var t=e.classes,n=e.onSelectAllClick,c=e.order,i=e.orderBy,r=e.numSelected,s=e.rowCount,o=e.onRequestSort;return Object(a.jsx)(Le.a,{children:Object(a.jsxs)(Te.a,{children:[Object(a.jsx)(ye.a,{padding:"checkbox",children:Object(a.jsx)(Ne.a,{indeterminate:r>0&&r<s,checked:s>0&&r===s,onChange:n,inputProps:{"aria-label":"select all desserts"}})}),_e.map((function(e){return Object(a.jsx)(ye.a,{align:"center",padding:e.disablePadding?"none":"default",sortDirection:i===e.id&&c,children:Object(a.jsxs)(we.a,{active:i===e.id,direction:i===e.id?c:"asc",onClick:(n=e.id,function(e){o(e,n)}),children:[e.label,i===e.id?Object(a.jsx)("span",{className:t.visuallyHidden,children:"desc"===c?"sorted descending":"sorted ascending"}):null]})},e.id);var n}))]})})},Ie=n(69),Fe=n(4),Ue=n(9),De=n(217),Pe=n(226),Re=n(100),Ke=n.n(Re),He=n(101),Be=n.n(He),Ge=Object(d.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(Ue.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),Me=function(e){var t=Ge(),n=e.numSelected,r=e.setSelected,s=Object(o.b)(),l=i.a.useState(!1),d=Object(p.a)(l,2),j=d[0],b=d[1],h=Object(c.useCallback)((function(){r([]),s(V(n))}),[n]);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(De.a,{className:Object(Fe.a)(t.root,Object(Ie.a)({},t.highlight,n.length>0)),children:[n.length>0?Object(a.jsxs)(u.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div",children:[n.length," selected"]}):Object(a.jsx)(u.a,{className:t.title,variant:"h6",id:"tableTitle",component:"div",children:"Likerator"}),n.length>0?Object(a.jsx)(Pe.a,{title:"Delete",children:Object(a.jsx)(Ee.a,{"aria-label":"deleted",onClick:function(){b(!0)},children:Object(a.jsx)(Ke.a,{})})}):Object(a.jsx)(Pe.a,{title:"Filter list",children:Object(a.jsx)(Ee.a,{"aria-label":"filter list",children:Object(a.jsx)(Be.a,{})})})]}),Object(a.jsx)(fe,{open:j,setOpen:b,deleteFn:h})]})},qe=function(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0},Qe=function(e,t){return"desc"===e?function(e,n){return qe(e,n,t)}:function(e,n){return-qe(e,n,t)}},We=function(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n.map((function(e){return e[0]}))},Ye=Object(d.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(3)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750,"& .link-url":{"&:hover":{cursor:"pointer",textDecoration:"underline"}}},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}})),Je=function(e){var t=e.setOpen,n=e.setIsAdd,c=Ye(),r=Object(o.c)((function(e){return e.links})).links,s=Object(o.b)(),l=function(e,t){return e.map((function(e){return{id:e.id,url:e.url,comment:e.comment,count:e.count,tags:e.tags.map((function(e){return e.name})),action:Object(a.jsx)(Ee.a,{onClick:function(){return t(e.id)},children:Object(a.jsx)(Se.a,{})})}}))}(r,(function(e){n({isAdd:!1,id:e}),t(!0)})),d=i.a.useState("asc"),u=Object(p.a)(d,2),j=u[0],b=u[1],h=i.a.useState("count"),f=Object(p.a)(h,2),O=f[0],g=f[1],x=i.a.useState([]),y=Object(p.a)(x,2),v=y[0],k=y[1];return Object(a.jsx)("div",{className:c.root,children:Object(a.jsxs)(m.a,{className:c.paper,children:[Object(a.jsx)(Me,{numSelected:v,setSelected:k}),Object(a.jsx)(ve.a,{children:Object(a.jsxs)(ge.a,{className:c.table,"aria-labelledby":"tableTitle","aria-label":"enhanced table",children:[Object(a.jsx)(Ae,{classes:c,numSelected:v.length,order:j,orderBy:O,onSelectAllClick:function(e){if(e.target.checked){var t=l.map((function(e){return e.id}));k(t)}else k([])},onRequestSort:function(e,t){b(O===t&&"asc"===j?"desc":"asc"),g(t)},rowCount:l.length}),Object(a.jsx)(xe.a,{children:We(l,Qe(j,O)).map((function(e,t){var n,c=(n=e.id,-1!==v.indexOf(n)),i="enhanced-table-checkbox-".concat(t);return Object(a.jsxs)(Te.a,{role:"checkbox","aria-checked":c,tabIndex:-1,selected:c,children:[Object(a.jsx)(ye.a,{padding:"checkbox",onClick:function(t){return function(e,t,n){var a=v.indexOf(n),c=[];-1===a?c=c.concat(v,n):0===a?c=c.concat(v.slice(1)):a===v.length-1?c=c.concat(v.slice(0,-1)):a>0&&(c=c.concat(v.slice(0,a),v.slice(a+1))),k(c)}(0,e.url,e.id)},children:Object(a.jsx)(Ne.a,{checked:c,inputProps:{"aria-labelledby":i}})}),Object(a.jsx)(ye.a,{component:"th",id:i,scope:"row",padding:"none",children:Object(a.jsx)("a",{onClick:function(){return function(e,t){s(X(t)),window.open("http://".concat(e),"_blank")}(e.url,e.id)},className:"link-url",children:e.url})}),Object(a.jsx)(ye.a,{align:"center",children:e.comment}),Object(a.jsx)(ye.a,{align:"center",children:e.count}),Object(a.jsx)(ye.a,{align:"center",children:e.tags&&e.tags.map((function(e,t){return Object(a.jsx)("div",{children:Object(a.jsx)(ke.a,{label:e,color:"primary",variant:"outlined",style:{height:"18px"}})},"".concat(e,"-").concat(t))}))}),Object(a.jsx)(ye.a,{align:"center",children:e.action})]},e.url)}))})]})})]})})},ze=n(39),Ve=n(103),Xe=n(104),Ze=n(78),$e={isLoading:!1,links:[]},et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:case L:case _:return Object(pe.a)(Object(pe.a)({},e),{},{isLoading:!0});case v:return Object(pe.a)(Object(pe.a)({},e),{},{isLoading:!1,links:t.payload});case T:return Object(pe.a)(Object(pe.a)({},e),{},{isLoading:!1,links:e.links.concat(t.payload)});case N:var n=Object(Ze.a)(e.links);return n[n.findIndex((function(e){return e.id===t.payload.id}))]=t.payload,Object(pe.a)(Object(pe.a)({},e),{},{isLoading:!1,links:n});case A:return Object(pe.a)(Object(pe.a)({},e),{},{isLoading:!1,links:e.links.filter((function(e){return!t.payload.includes(e.id)}))});case F:var a=Object(Ze.a)(e.links);return a[a.findIndex((function(e){return e.id===t.payload.id}))].count=t.payload.count,Object(pe.a)(Object(pe.a)({},e),{},{links:a});case k:case w:case I:return Object(pe.a)(Object(pe.a)({},e),{},{isLoading:!1});default:return e}},tt={},nt={isLoading:!1,tags:[]},at=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(pe.a)(Object(pe.a)({},e),{},{isLoading:!0});case S:return Object(pe.a)(Object(pe.a)({},e),{},{isLoading:!1,tags:t.payload});case E:return Object(pe.a)(Object(pe.a)({},e),{},{isLoading:!1});default:return e}},ct=Object(ze.c)({links:et,message:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case D:return{message:a.message,success:a.success,info:a.info};case P:return{message:""};default:return e}},tags:at}),it=Object(Xe.createLogger)(),rt=Object(ze.d)(ct,Object(ze.a)(Ve.a,it)),st=function(){return Object(a.jsx)(o.a,{store:rt,children:Object(a.jsx)(l.ToastProvider,{autoDismiss:!0,autoDismissTimeout:6e3,placement:"top-center",children:Object(a.jsx)(be,{children:Object(a.jsxs)(Oe,{children:[Object(a.jsx)(b,{}),Object(a.jsx)($,{}),Object(a.jsx)(ue,{})]})})})})};n(160);s.a.render(Object(a.jsx)(st,{}),document.getElementById("root"))}},[[161,1,2]]]);
//# sourceMappingURL=main.642d65a0.chunk.js.map